<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Aluminum Window Calculator</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        body {
            font-family: 'Inter', sans-serif;
            background-color: #f3f4f6;
        }
    </style>
</head>
<body class="bg-gray-100 p-8">

<div class="max-w-4xl mx-auto bg-white rounded-2xl shadow-xl p-8 md:p-12 border border-gray-200">
    <!-- Header -->
    <h1 class="text-3xl md:text-4xl font-extrabold text-center text-gray-900 mb-2">
        Aluminum Window Calculator
    </h1>
    <p class="text-center text-gray-500 mb-8 md:mb-12">
        Enter the total window opening size in inches to calculate component dimensions.
    </p>

    <div id="calculator-app">
        <!-- Input Section -->
        <div class="grid grid-cols-1 md:grid-cols-2 gap-6 mb-8">
            <div>
                <label for="width" class="block text-sm font-medium text-gray-700 mb-1">
                    Total Window Width (inches)
                </label>
                <input type="number" id="width" placeholder="e.g., 72.5"
                       class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 shadow-sm transition duration-150 ease-in-out text-gray-800">
            </div>
            <div>
                <label for="height" class="block text-sm font-medium text-gray-700 mb-1">
                    Total Window Height (inches)
                </label>
                <input type="number" id="height" placeholder="e.g., 48.25"
                       class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 shadow-sm transition duration-150 ease-in-out text-gray-800">
            </div>
        </div>

        <!-- Calculation Button -->
        <div class="flex justify-center mb-8">
            <button id="calculateBtn"
                    class="w-full md:w-auto px-8 py-3 bg-blue-600 text-white font-semibold rounded-lg shadow-lg hover:bg-blue-700 focus:outline-none focus:ring-4 focus:ring-blue-300 transition-all transform hover:scale-105 duration-200">
                Calculate Dimensions
            </button>
        </div>

        <!-- Output Section -->
        <div id="results" class="hidden">
            <h2 class="text-2xl font-bold text-gray-800 mb-6 border-b pb-2">
                Component Dimensions
            </h2>
            <div class="space-y-6">
                <!-- Frame Components -->
                <div class="bg-blue-50 p-6 rounded-xl border border-blue-200 shadow-inner">
                    <h3 class="text-xl font-bold text-blue-800 mb-4 flex items-center">
                        <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 mr-2 text-blue-500" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 18h16M4 12h16" />
                        </svg>
                        Frame Dimensions
                    </h3>
                    <ul class="text-gray-700 list-disc list-inside">
                        <li class="mb-2">
                            <span class="font-semibold">Top & Bottom Track:</span> <span id="topBottomTrack" class="font-mono text-gray-900"></span>
                        </li>
                        <li>
                            <span class="font-semibold">Side Track (2 pcs):</span> <span id="sideTrack" class="font-mono text-gray-900"></span>
                        </li>
                    </ul>
                </div>

                <!-- Shutter Components -->
                <div class="bg-green-50 p-6 rounded-xl border border-green-200 shadow-inner">
                    <h3 class="text-xl font-bold text-green-800 mb-4 flex items-center">
                        <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 mr-2 text-green-500" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 17V7m0 10a2 2 0 01-2 2H5a2 2 0 01-2-2V7a2 2 0 012-2h2a2 2 0 012 2v10zm6-10v10m0-10a2 2 0 012-2h2a2 2 0 012 2v10a2 2 0 01-2 2h-2a2 2 0 01-2-2V7z" />
                        </svg>
                        Shutter Dimensions (for 2 Shutters)
                    </h3>
                    <ul class="text-gray-700 list-disc list-inside">
                        <li class="mb-2">
                            <span class="font-semibold">Handle Pipe & Interlock Pipe:</span> <span id="handleInterlock" class="font-mono text-gray-900"></span>
                        </li>
                        <li class="mb-2">
                            <span class="font-semibold">Top Pipe & Bearing Bottom:</span> <span id="topBearingBottom" class="font-mono text-gray-900"></span>
                        </li>
                    </ul>
                </div>

                <!-- Glass Dimensions -->
                <div class="bg-purple-50 p-6 rounded-xl border border-purple-200 shadow-inner">
                    <h3 class="text-xl font-bold text-purple-800 mb-4 flex items-center">
                        <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 mr-2 text-purple-500" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 20l4-16m4 4l4 4-4 4M6 16l-4-4 4-4" />
                        </svg>
                        Glass Dimensions (for 2 Panes)
                    </h3>
                    <ul class="text-gray-700 list-disc list-inside">
                        <li class="mb-2">
                            <span class="font-semibold">Glass Panes:</span> <span id="glassDimensions" class="font-mono text-gray-900"></span>
                        </li>
                    </ul>
                </div>
            </div>
        </div>
    </div>
</div>

<script>
    document.getElementById('calculateBtn').addEventListener('click', calculateDimensions);

    // This function converts a decimal value in inches to a string representation
    // with a whole number and a decimal representing eighths of an inch.
    function toDecimalEighths(decimalInches) {
        if (typeof decimalInches !== 'number' || isNaN(decimalInches)) {
            return '';
        }

        const wholeInches = Math.floor(decimalInches);
        const fractionalPart = decimalInches - wholeInches;
        const numerator = Math.round(fractionalPart * 8);

        return `${wholeInches}.${numerator}`;
    }

    function calculateDimensions() {
        const widthInput = document.getElementById('width');
        const heightInput = document.getElementById('height');
        const resultsDiv = document.getElementById('results');

        const totalWidth = parseFloat(widthInput.value);
        const totalHeight = parseFloat(heightInput.value);

        if (isNaN(totalWidth) || isNaN(totalHeight) || totalWidth <= 0 || totalHeight <= 0) {
            const errorContainer = document.createElement('div');
            errorContainer.className = 'bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded-xl mb-4 text-center';
            errorContainer.textContent = 'Please enter valid, positive numbers for both width and height.';
            
            const existingError = document.querySelector('.bg-red-100');
            if (existingError) {
                existingError.remove();
            }

            resultsDiv.parentNode.insertBefore(errorContainer, resultsDiv);
            resultsDiv.classList.add('hidden');
            return;
        }

        // --- Frame Dimensions (based on total opening) ---
        const topBottomTrackLength = totalWidth;
        const sideTrackLength = totalHeight;

        // --- Shutter Dimensions (for 2 shutters) ---
        // New rule: Height of handle/interlock is total height minus 1.5 inches
        const handleInterlockPipeLength = totalHeight - 1.5;

        // New rule: Top/bearing bottom is total width minus 6.25 inches
        const topBearingBottomLength = (totalWidth - 6.25)/2;

        // --- Glass Dimensions (for 2 panes) ---
        // New rule: Glass height is handle/interlock height minus 3 inches
        const glassHeight = handleInterlockPipeLength - 3;
        
        // New rule: Glass width is top/bearing bottom length plus 0.5 inches
        const glassWidth = topBearingBottomLength + 0.5;

        // --- Display Results, converted to decimal-eighths format ---
        document.getElementById('topBottomTrack').textContent = toDecimalEighths(topBottomTrackLength);
        document.getElementById('sideTrack').textContent = toDecimalEighths(sideTrackLength);
        document.getElementById('handleInterlock').textContent = toDecimalEighths(handleInterlockPipeLength);
        document.getElementById('topBearingBottom').textContent = toDecimalEighths(topBearingBottomLength);
        document.getElementById('glassDimensions').textContent = `${toDecimalEighths(glassWidth)} (Width) x ${toDecimalEighths(glassHeight)} (Height)`;

        resultsDiv.classList.remove('hidden');

        // Remove any previous error message if present
        const existingError = document.querySelector('.bg-red-100');
        if (existingError) {
            existingError.remove();
        }
    }
</script>

</body>
</html>
